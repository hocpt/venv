<!doctype html>
<html lang="vi">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    {# Tiêu đề trang, lấy từ biến 'title' được truyền vào, nếu không có thì dùng 'Admin' #}
    <title>{{ title | default('Admin') }} - Bảng Điều Khiển Tự Động Hóa</title>

    {# Link đến file CSS tĩnh - Đảm bảo bạn có thư mục 'static' ở gốc dự án và file 'style.css' bên trong #}
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">


</head>

<body>

    <header>
        <h1>Bảng Điều Khiển Tự Động Hóa</h1>
    </header>

    <nav>
        {# Thanh điều hướng chính - Dùng url_for với tên blueprint 'admin' và tên hàm view #}
        <ul>
            <li><a href="{{ url_for('admin.index') }}">Dashboard</a></li>
            <li><a href="#">Quản lý Tài khoản</a></li> {# Thay # bằng url_for khi có route tương ứng #}
            <li><a href="{{ url_for('admin.view_rules') }}">Quản lý Luật</a></li>
            <li><a href="#">Quản lý Templates</a></li> {# Thay # bằng url_for khi có route tương ứng #}
            <li><a href="#">Quản lý Chiến lược</a></li> {# Thay # bằng url_for khi có route tương ứng #}
            <li><a href="{{ url_for('admin.view_suggestions') }}">Đề xuất AI</a></li>
            <li><a href="#">Xem Lịch sử</a></li> {# Thay # bằng url_for khi có route tương ứng #}
        </ul>
    </nav>
    <hr>

    <main>
        {# Hiển thị các thông báo Flash nếu có #}
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <ul class=flashes>
            {% for category, message in messages %}
            {# Dùng category làm class CSS (ví dụ: error, success, info) #}
            <li class="{{ category }}">{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %}
        {% endwith %}

        {# Khối nội dung chính - Các template con sẽ chèn nội dung vào đây #}
        {% block content %}
        {# Nội dung mặc định nếu template con không định nghĩa block này #}
        <p>Nội dung mặc định.</p>
        {% endblock %}
    </main>

    <hr>
    <footer>
    </footer>

    {# Thêm các link JavaScript nếu cần ở cuối body #}

</body>

</html>